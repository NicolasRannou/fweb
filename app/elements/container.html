<link rel="import" href="../bower_components/polymer-ui-elements/elements.html">

<link rel="import" href="home.html">
<link rel="import" href="research.html">
<link rel="import" href="team.html">

<polymer-element name="container-element"  attributes="">
  <template>
    <link rel="stylesheet" href="../bower_components/font-awesome/css/font-awesome.min.css">
    <style>
      @host { :scope {display: block;} }
      [main] {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
      }
      [navigation] {
        width: 256px;
        height: 100%;
      }
      #main {
        overflow-y:auto;
      }
      polymer-ui-submenu-item{
        margin-top: -1px;
        border-top: 1px black solid;
border-bottom: 1px black solid;
      }
polymer-ui-submenu-item #menu{
margin-left: 5px;

}
      span.icon, polymer-ui-submenu-item.icon::before{
        font-weight: normal;
        font-family: "FontAwesome";
      }


      .contact{
        color: #08C
      }
      polymer-ui-submenu-item.contact::before{
        content:"\f02D";
      }
      .home{
        color: #BA55D3;
      }
      polymer-ui-submenu-item.home::before{
        content:"\f015";
      }
      .team{
        color: #08B8B8;
      }
      polymer-ui-submenu-item.team::before{
        content:"\f0c0";
      }
      .research{
        color: #0DA861
      }
      polymer-ui-submenu-item.research::before{
        content:"\f0c3";
      }
     
      polymer-ui-submenu-item  polymer-ui-menu-item{display:inline-block !important;min-width:60%}
      polymer-ui-menu-item:hover{background-color:#888}

      div polymer-ui-toolbar span {
        padding-top: 20px;
height: 100%;
padding-left: 100px;
padding-right: 100px;
/*border-right: 1px solid black;*/
/*border-left: 1px solid black;*/
      }

    </style>
  <polymer-ui-scaffold3 theme="polymer-ui-dark-theme" style="height:100%;display: block; position: relative;">

      <div tool flex>FNNDSC</div>
           
      <div test flex >
        <polymer-ui-toolbar responsive>

          <!-- home section -->
          <polymer-ui-menu-button id="home-topnav" label="{{homeSection}}" selected="{{homeIndex}}">
            <template repeat="{{ home }}">
              <polymer-ui-menu-item on-tap="{{jump}}" label="{{section}}"></polymer-ui-menu-item>
            </template>
          </polymer-ui-menu-button>

          <!-- research section -->
          <polymer-ui-menu-button id="research-topnav" label="{{researchSection}}" selected="{{researchIndex}}" style="display:none;">
            <template repeat="{{ research }}">
              <polymer-ui-menu-item on-tap="{{jump}}" label="{{section}}"></polymer-ui-menu-item>
            </template>
          </polymer-ui-menu-button>

        </polymer-ui-toolbar>
      </div>

      <div on-scroll="{{scroll}}" id="main" main>

        <!-- home element -->
        <home-element id="home" jumpToSection="{{homeJump}}" currentSection="{{homeSection}}" currentSectionIndex="{{homeIndex}}"></home-element>

        <!-- research element -->
        <research-element id="research" jumpToSection="{{researchJump}}" currentSection="{{researchSection}}" currentSectionIndex="{{researchIndex}}" style="display:none;"></research-element>

      </div>

      <polymer-ui-sidebar-menu navigation label="Navigation" offscreen="basement" selectedItem="{{item}}" on-polymer-select="{{loadPage}}">

        <!-- home section -->
        <polymer-ui-submenu-item class="home icon" title="home" label="Home" selected="{{homeIndex}}">
          <template repeat="{{ home }}">
            <polymer-ui-menu-item on-tap="{{jump}}" title="home" label="{{section}}"></polymer-ui-menu-item>
          </template>
        </polymer-ui-submenu-item>

        <!-- research section -->
        <polymer-ui-submenu-item class="research icon" title="research" label="Research" selected="{{researchIndex}}">
          <template repeat="{{ research }}">
            <polymer-ui-menu-item on-tap="{{jump}}" title="research" label="{{section}}"></polymer-ui-menu-item>
          </template>
        </polymer-ui-submenu-item>

        <polymer-ui-submenu-item class="team icon" title="Meet Our Team" label="Meet Our Team">
          <polymer-ui-menu-item title="Meet Our Team" label="Faculty"></polymer-ui-menu-item>
          <polymer-ui-menu-item title="Meet Our Team" label="Staff"></polymer-ui-menu-item>
          <polymer-ui-menu-item title="Meet Our Team" label="Collaborators"></polymer-ui-menu-item>
          <polymer-ui-menu-item title="Meet Our Team" label="Alumni"></polymer-ui-menu-item>
        </polymer-ui-submenu-item>
        <polymer-ui-submenu-item class="contact icon" title="Contact Us" label="Contact Us">
          <polymer-ui-menu-item title="Contact Us" label="Boston - Main Hospital"></polymer-ui-menu-item>
          <polymer-ui-menu-item title="Contact Us" label="Boston - 1 Autumn St"></polymer-ui-menu-item>
          <polymer-ui-menu-item title="Contact Us" label="Waltham - MEG Group"></polymer-ui-menu-item>
        </polymer-ui-submenu-item>
     </polymer-ui-sidebar-menu>
    </polymer-ui-scaffold3>

  </template>
  <script>
    Polymer('container-element', {
      ready: function() {
        // selected item
        this.item = null;

        this.team = null;
        this.contact = null;

        // page
        this.home = [{section:'welcome', index:0},
                     {section:'about', index:1},
                     {section:'research', index:2},
                     {section:'software', index:3}];
        this.homeSection = 'welcome';
        this.homeIndex =  0;
        this.homeJump = 0;

        this.research = [{section:'magnetic resonance imaging', index:0},
                         {section:'near-infrared spectroscopy', index:1},
                         {section:'magnetoencephalography', index:2},
                         {section:'software development', index:3},
                         {section:'high-performace computing', index:4}];
        this.researchSection = 'magnetic resonance imaging';
        this.researchIndex =  0;
        this.researchJump = 0;

        // navigation
        this.previousPage =  'home';
      },
      jump: function(){
        this[this.previousPage+'Jump'] = 1;
      },
      scroll: function() {
        this[this.previousPage+'Jump'] *= -1;
      },
      homeIndexChanged: function(){
        window.console.log('---');
        window.console.log('home index changed');
        window.console.log(this.homeIndex);
      },
      researchIndexChanged: function(){
        window.console.log('---');
        window.console.log('research index changed');
        window.console.log(this.researchIndex);
      },
      loadPage: function(e, detail){
        if(detail.isSelected){
          var selectedPage = detail.item.title;
                    window.console.log("=======");
                              window.console.log(detail);
          window.console.log(this.previousPage);
          window.console.log(selectedPage);
          if(selectedPage != this.previousPage){
            // hide previous page
            this.$[this.previousPage].style.display = 'none';
            this.$[this.previousPage+'-topnav'].style.display = 'none';

            // show current page
            this.$[selectedPage].style.display = 'block';
            this.$[selectedPage+'-topnav'].style.display = 'block';

            // show current toolbar
            // show/hide page
            this.previousPage = selectedPage;
          }
        }
      }
    });
  </script>
</polymer-element>
